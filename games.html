<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="title">The Atlas of Invincibility</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="Favicon.png" id="favicon">
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
</head>
<body>
    <div class="centerFlex">
    <nav class="actualNav">
        <div class="navbarTop withBorder centerFlexY">
            
        </div>
        <script src="navbar.js"></script>
        <p class="centerFlex" style="margin-top: 0px;">â–¼</p>
    </nav>
    </div>
    <div class="mainContainer longMain" >
        <h1 class="header centerFlex">Games</h1>
        <br>
        <div class="centerFlex">
            <a class="gameLink centerFlex myP"  href="https://docs.google.com/forms/d/e/1FAIpQLScqOVT019BHEE2OeWzm8uoByIXhVGlkJCeJzE7y3nqBzYBFEw/viewform?usp=sf_link">Game Request Form</a>
        </div>
        <div class="centerFlex">
            <input type="text" placeholder="Search..." id="searchInput" aria-disabled="true" onkeyup="searchGames()">
        </div>
        <div id="mainContainer" class="flex-container">

        </div>
        <br>
        <!-- <p class="centerFlex">
            <button class="myButton" onclick="openLocalGame('./games/ngon/index.html')">N-Gon</button>
        </p>
        <p class="centerFlex">
            
            <a class="gameLink centerFlex myP" href="./games/eagler/Resent-4.0-Patch-2-International.html">Minecraft: Resent Client V4.0 (1.8.8 single and multiplayer, with the Nebula texture pack)</a>
        </p>
        <p class="centerFlex">
            <a class="gameLink centerFlex myP" href="./games/eagler/Resent_3.8_Patch-0_Offline_US.html">Minecraft: Resent Client V3.8 (1.8.8 multiplayer, with 1.14 texture pack)</a>
        </p>
        <p class="centerFlex">
            <a class="gameLink centerFlex myP" href="./games/eagler/EaglercraftX_1.8_Offline_International.html ">Minecraft: EaglercraftX Ultimate Offline (1.8.8 single and multiplayer) </a>
        </p>
     
        <p class="centerFlex">
            <button class="myButton" onclick="openGame('https://cdn.statically.io/gl/3kh0/3kh0-assets/main/the-final-earth-2/index.html')">The Final Earth 2 (broken right now)</button>
        </p> -->
        <!--    ><p>fdafsd</p> -->
    </div>
        <script src="functions.js"></script>
        <script src="splash.js"></script>
        <script src="script.js"></script>
        <script>
        let data1;
        (async (params) => {
            data1 = await createJSONGame("./config/games.json");
            // alert(data1);
        })()
        
        function searchGames(){
            // alert(data1);
            const input = document.getElementById("searchInput");
            const filter = input.value.toUpperCase();
            const container = document.getElementById("mainContainer");
            const cdnURL = "https://atlas-assets-cdn.pages.dev/"
            container.innerHTML = "";
            data1
            .filter((game) => game.title.toString().toUpperCase().includes(filter))
            .forEach((project) => {
                // alert(project);
                let gameEl = document.createElement("button");
                gameEl.onclick = function(evt){
                    openGame(cdnURL+project.link);
                };
                gameEl.className = "gameButton";
                gameEl.innerHTML = project.title;
                container.appendChild(gameEl);
            });
        }

            
        </script>
        <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "d7afb9fbbd6d49d7a25be02d5fd28952"}'></script><!-- End Cloudflare Web Analytics -->
</body>
</html>